{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maler\\\\Documents\\\\GitHub\\\\ST10096757_APDS7311_International_Payments_Portal-1\\\\register.login\\\\Frontend\\\\src\\\\components\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Navbar from './Navbar';\nimport { useNavigate } from 'react-router-dom';\nimport './styles/Profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const [userData, setUserData] = useState({\n    username: '',\n    firstName: '',\n    lastName: '',\n    profilePicture: null // Placeholder for profile picture file\n  });\n  const [file, setFile] = useState(null); // To store the selected file\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Simulate fetching user data from an API (you can replace this with a real call)\n    const fetchUserData = async () => {\n      try {\n        const response = await axios.get('http://localhost:3001/api/getUserData', {\n          withCredentials: true\n        });\n        setUserData({\n          username: response.data.username,\n          firstName: response.data.firstName,\n          lastName: response.data.lastName,\n          profilePicture: response.data.profilePicture\n        });\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    fetchUserData();\n  }, []);\n  const handleFileChange = event => {\n    const selectedFile = event.target.files[0];\n    if (selectedFile) {\n      setFile(selectedFile); // Store the selected file in state\n    }\n  };\n  const handleSave = async () => {\n    // Upload the selected file along with other user data to the server\n    const formData = new FormData();\n    formData.append('profilePicture', file);\n    formData.append('username', userData.username);\n    formData.append('firstName', userData.firstName);\n    formData.append('lastName', userData.lastName);\n    try {\n      const response = await axios.post('http://localhost:3001/api/uploadProfilePicture', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      alert('Profile picture saved!');\n      setUserData(prevData => ({\n        ...prevData,\n        profilePicture: response.data.profilePicture // Update the profile picture after saving\n      }));\n    } catch (error) {\n      console.error('Error uploading profile picture:', error);\n      alert('Error uploading profile picture');\n    }\n  };\n  const handleExit = () => {\n    navigate('/home'); // Navigate back to the homepage\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-container\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-content shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"name\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"First Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), \" \", userData.firstName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"name\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Last Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), \" \", userData.lastName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"username-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Username:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), \" \", userData.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-picture-section\",\n          children: [userData.profilePicture ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:3001/uploads/${userData.profilePicture}`,\n            alt: \"Profile\",\n            className: \"profile-picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"No Profile Picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleFileChange,\n            className: \"file-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-save\",\n            onClick: handleSave,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-exit\",\n            onClick: handleExit,\n            children: \"Exit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"auAf2uNqdD3HXbqEqCzLSatySdA=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","axios","Navbar","useNavigate","jsxDEV","_jsxDEV","Profile","_s","userData","setUserData","username","firstName","lastName","profilePicture","file","setFile","navigate","fetchUserData","response","get","withCredentials","data","error","console","handleFileChange","event","selectedFile","target","files","handleSave","formData","FormData","append","post","headers","alert","prevData","handleExit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","type","accept","onChange","onClick","_c","$RefreshReg$"],"sources":["C:/Users/maler/Documents/GitHub/ST10096757_APDS7311_International_Payments_Portal-1/register.login/Frontend/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './Navbar';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './styles/Profile.css';\r\n\r\nconst Profile = () => {\r\n  const [userData, setUserData] = useState({\r\n    username: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    profilePicture: null, // Placeholder for profile picture file\r\n  });\r\n\r\n  const [file, setFile] = useState(null); // To store the selected file\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Simulate fetching user data from an API (you can replace this with a real call)\r\n    const fetchUserData = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:3001/api/getUserData', { withCredentials: true });\r\n        setUserData({\r\n          username: response.data.username,\r\n          firstName: response.data.firstName,\r\n          lastName: response.data.lastName,\r\n          profilePicture: response.data.profilePicture,\r\n        });\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  const handleFileChange = (event) => {\r\n    const selectedFile = event.target.files[0];\r\n    if (selectedFile) {\r\n      setFile(selectedFile); // Store the selected file in state\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    // Upload the selected file along with other user data to the server\r\n    const formData = new FormData();\r\n    formData.append('profilePicture', file);\r\n    formData.append('username', userData.username);\r\n    formData.append('firstName', userData.firstName);\r\n    formData.append('lastName', userData.lastName);\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:3001/api/uploadProfilePicture', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      alert('Profile picture saved!');\r\n      setUserData(prevData => ({\r\n        ...prevData,\r\n        profilePicture: response.data.profilePicture // Update the profile picture after saving\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error uploading profile picture:', error);\r\n      alert('Error uploading profile picture');\r\n    }\r\n  };\r\n\r\n  const handleExit = () => {\r\n    navigate('/home');  // Navigate back to the homepage\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      <Navbar />\r\n      <div className=\"profile-content shadow-lg\">\r\n        <h1>Profile</h1>\r\n\r\n        <div className=\"profile-details\">\r\n          <div className=\"name-section\">\r\n            <div className=\"name\">\r\n              <strong>First Name:</strong> {userData.firstName}\r\n            </div>\r\n            <div className=\"name\">\r\n              <strong>Last Name:</strong> {userData.lastName}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"username-section\">\r\n            <strong>Username:</strong> {userData.username}\r\n          </div>\r\n\r\n          <div className=\"profile-picture-section\">\r\n            {userData.profilePicture ? (\r\n              <img\r\n                src={`http://localhost:3001/uploads/${userData.profilePicture}`}\r\n                alt=\"Profile\"\r\n                className=\"profile-picture\"\r\n              />\r\n            ) : (\r\n              <div>No Profile Picture</div>\r\n            )}\r\n\r\n            {/* Input to allow user to select a new profile picture */}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={handleFileChange}\r\n              className=\"file-input\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"button-section\">\r\n            <button className=\"btn-save\" onClick={handleSave}>Save</button>\r\n            <button className=\"btn-exit\" onClick={handleExit}>Exit</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}